(window.webpackJsonp=window.webpackJsonp||[]).push([[12,18],{184:function(e,t,a){"use strict";a.r(t);var s=a(1);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n={components:{Taxes:a(51).default},beforeCreate:function(){localStorage.setItem("currentDetail",this.$route.fullPath),localStorage.setItem("customer",this.$route.params.id),this.$store.commit("setRootUrl",this.$route.fullPath)},computed:i({},Object(s.e)("customers/",["customer"])),created:function(){this.getCustomer(this.$route.params.id)},methods:i({},Object(s.b)({getCustomer:"customers/getCustomer"}),{getFullName:function(e){return null===e||_.isUndefined(e)?"N/A":e.full_name},getAddress:function(e){return e.address+" "+e.street+" "+e.group+" "+e.sangkat+" "+e.village+" "+e.district+" "+e.province+"  "+e.muncipality}})},d=a(2),l=Object(d.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vs-row",[a("vs-col",[a("vx-card",[a("vs-row",[a("vs-col",{attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12","vs-xs":"12"}},[a("P",[e._v("Company Name (English):")]),e._v(" "),a("P",[e._v(e._s(e.customer.name_english))])],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12","vs-xs":"12"}},[a("P",[e._v("Company Name (Khmer):")]),e._v(" "),a("P",[e._v(e._s(e.customer.name_khmer))])],1)],1)],1)],1)],1),e._v(" "),a("vs-row",[a("vs-col",[a("taxes",{staticClass:"mt-5"})],1)],1)],1)}),[],!1,null,null,null);t.default=l.exports},21:function(e,t,a){var s=a(65);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(5)(s,r);s.locals&&(e.exports=s.locals)},51:function(e,t,a){"use strict";a.r(t);var s=a(1);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n={inject:["loginUser"],data:function(){return{editTax:{},addTaxManagmentModal:!1,editTaxManagmentModal:!1,type:"",officer:[],default_selected_officer:"",default_selected_supervisor:"",tax_customer_id:"",title:"",description:"",duration:"",supervisor:"",tax_identifier:"",edit_tax_identifier:"",notes:"",months:["Jan","Feb","Mar","Apr","Ma","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},computed:i({},Object(s.e)("supervisors/",["supervisors"]),{},Object(s.e)("taxes/",["taxes"]),{},Object(s.e)("officers/",["officers"])),beforeCreate:function(){},created:function(){this.tax_customer_id=localStorage.getItem("customer"),this.getSupervisors(),this.getOfficers(),this.getTaxes(this.tax_customer_id)},methods:i({},Object(s.b)({getSupervisors:"supervisors/getSupervisors",getOfficers:"officers/getOfficers",create:"taxes/addTax",getTaxes:"taxes/getTaxes",update:"taxes/editTax"}),{getFullName:function(e){return null!==e?e.full_name:"N/A"},addTax:function(){this.addTaxManagmentModal=!0},addTaxManagment:function(e){var t=this;this.$validator.validateAll("addform").then((function(a){if(a){t.$vs.loading(),self=t;var s=new FormData(self.$refs.addTaxManagmentForm);s.append("customer_id",t.tax_customer_id),s.append("tax_code",t.tax_identifier),s.append("created_by",localStorage.getItem("admin"));var r={fd:s,close:t.$vs.loading.close,notify:t.$vs.notify};t.create(r).then((function(a){"success"==a.data.status&&(self.title=self.description=self.duration=self.supervisor="",self.officer=[],e.target.reset(),self.$validator.reset(),t.getTaxes(self.tax_customer_id),t.addTaxManagmentModal=!1)}))}}))},taxEdit:function(e){var t=this;this.$vs.loading.close(),axios.post("tax/get-tax",{id:e}).then((function(e){new Date;t.editTax=e.data.tax,t.editTaxManagmentModal=!0}))},editTaxManagment:function(e){var t=this;this.$validator.validateAll("editform").then((function(e){if(e){self=t;var a=new FormData(self.$refs.editTaxManagmentForm);a.append("customer_id",t.tax_customer_id),a.append("tax_id",self.editTax.tax_id),a.append("tax_code",t.editTax.tax_code);var s={fd:a,close:t.$vs.loading.close,notify:t.$vs.notify};t.update(s).then((function(e){"success"==e.data.status&&(self.getTaxes(t.tax_customer_id),self.officer=[],self.$validator.reset(),self.editTaxManagmentModal=!1)}))}}))}})},d=(a(64),a(2)),l=Object(d.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vx-card",{attrs:{title:"List of tax services",subtitle:"The List of Taxes contains currently assigned taxes of customer Or those which are delivered succesfully"}},[a("template",{slot:"actions"},["Officer"==e.$store.getters.userType||"Supervisor"==e.$store.getters.userType?a("vs-button",{attrs:{type:"border","icon-pack":"feather",icon:"icon-plus"},on:{click:function(t){return e.addTax()}}}):e._e()],1),e._v(" "),a("vs-table",{attrs:{search:"",pagination:"",data:e.taxes},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,(function(t,s){return a("vs-tr",{key:s},[a("vs-td",[e._v(e._s(e.getFullName(t.created_by)))]),e._v(" "),a("vs-td",[e._v(e._s(t.tax_code))]),e._v(" "),a("vs-td",{staticStyle:{width:"200px"}},[e._v(e._s(t.title))]),e._v(" "),a("vs-td",[e._v(e._s(t.description))]),e._v(" "),a("vs-td",[e._v(e._s(t.type))]),e._v(" "),a("vs-td",[e._v(e._s(0))]),e._v(" "),a("vs-td",[e._v(e._s(0==t.status?"Work in progress":1==t.status?"Review":2==t.status?"Approve":3==t.status?"Client's Confirmation":4==t.status?"Tax Paid":5==t.status?"Submitted":6==t.status?"Scanned":"Released"))]),e._v(" "),a("vs-td",["Officer"==e.$store.getters.userType||"Supervisor"==e.$store.getters.userType?a("vs-button",{attrs:{size:"small",type:"border","icon-pack":"feather",icon:"icon-edit"},on:{click:function(a){return e.taxEdit(t.tax_id)}}}):e._e(),e._v(" "),a("vs-button",{attrs:{size:"small",type:"border","icon-pack":"feather",icon:"icon-maximize-2",to:"/tax-collection/"+t.tax_id}})],1)],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[e._v("created by")]),e._v(" "),a("vs-th",[e._v("Code")]),e._v(" "),a("vs-th",[e._v("Title")]),e._v(" "),a("vs-th",[e._v("Description")]),e._v(" "),a("vs-th",[e._v("Type")]),e._v(" "),a("vs-th",[e._v("revision")]),e._v(" "),a("vs-th",[e._v("Status")]),e._v(" "),a("vs-th",[e._v("Actions")])],1)],2)],2),e._v(" "),a("vs-popup",{attrs:{active:e.addTaxManagmentModal,title:"Add Tax Managment"},on:{"update:active":function(t){e.addTaxManagmentModal=t}}},[a("form",{ref:"addTaxManagmentForm",attrs:{"data-vv-scope":"addform"},on:{submit:function(t){return t.preventDefault(),e.addTaxManagment(t,"addform")}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tax_customer_id,expression:"tax_customer_id"}],attrs:{type:"hidden",name:"category_id"},domProps:{value:e.tax_customer_id},on:{input:function(t){t.target.composing||(e.tax_customer_id=t.target.value)}}}),e._v(" "),a("vs-row",[a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"tax_identifier","data-vv-as":"Tax Identifier","label-placeholder":"Tax Identifier","data-vv-scope":"addform"},model:{value:e.tax_identifier,callback:function(t){e.tax_identifier=t},expression:"tax_identifier"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.tax_identifier"),expression:"errors.has('addform.tax_identifier')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.tax_identifier")))])],1),e._v(" "),a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"title","label-placeholder":"Title","data-vv-scope":"addform"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.title"),expression:"errors.has('addform.title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.title")))])],1),e._v(" "),a("vx-input-group",[a("br"),e._v(" "),a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"description",counter:20,label:"Description","data-vv-scope":"addform"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.description"),expression:"errors.has('addform.description')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.description")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{placeholder:"Select Type",label:"Type",name:"type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("vs-select-item",{attrs:{text:"Monthly Tax",value:"Monthly Tax"}}),e._v(" "),a("vs-select-item",{attrs:{text:"Annual Tax",value:"Yearly Tax"}}),e._v(" "),a("vs-select-item",{attrs:{text:"Resubmission Tax",value:"Resubmission Tax"}})],1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.type"),expression:"errors.has('addform.type')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.type")))])],1),e._v(" "),a("vx-input-group",[a("br"),e._v(" "),a("vs-textarea",{attrs:{name:"notes",counter:100,label:"Notes","data-vv-scope":"addform"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.notes"),expression:"errors.has('addform.notes')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.notes")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[a("br"),e._v(" "),a("vs-button",{staticClass:"float-right",attrs:{button:"submit",type:"gradient"}},[e._v("Add Tax Managment")])],1)],1)],1)]),e._v(" "),a("vs-popup",{attrs:{active:e.editTaxManagmentModal,title:"Add Tax Managment"},on:{"update:active":function(t){e.editTaxManagmentModal=t}}},[a("form",{ref:"editTaxManagmentForm",attrs:{"data-vv-scope":"editform"},on:{submit:function(t){return t.preventDefault(),e.editTaxManagment(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tax_customer_id,expression:"tax_customer_id"}],attrs:{type:"hidden",name:"category_id"},domProps:{value:e.tax_customer_id},on:{input:function(t){t.target.composing||(e.tax_customer_id=t.target.value)}}}),e._v(" "),a("vs-row",[a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"tax_identifier","data-vv-as":"Tax Identifier","label-placeholder":"Tax Identifier","data-vv-scope":"editform"},model:{value:e.editTax.tax_code,callback:function(t){e.$set(e.editTax,"tax_code",t)},expression:"editTax.tax_code"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.tax_identifier"),expression:"errors.has('addform.tax_identifier')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.tax_identifier")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12"}},[a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"title",label:"Title",placeholder:"Title","data-vv-scope":"editform"},model:{value:e.editTax.title,callback:function(t){e.$set(e.editTax,"title",t)},expression:"editTax.title"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.title"),expression:"errors.has('editform.title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.title")))])],1),e._v(" "),a("vx-input-group",[a("br"),e._v(" "),a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"description",counter:50,label:"Description","data-vv-scope":"editform"},model:{value:e.editTax.description,callback:function(t){e.$set(e.editTax,"description",t)},expression:"editTax.description"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.description"),expression:"errors.has('editform.description')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.description")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"6","vs-md":"12","vs-sm":"12"}},[a("vx-input-group",[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{placeholder:"Select Type",label:"Type",name:"type"},model:{value:e.editTax.type,callback:function(t){e.$set(e.editTax,"type",t)},expression:"editTax.type"}},[a("vs-select-item",{attrs:{text:"Monthly Tax",value:"Monthly Tax"}}),e._v(" "),a("vs-select-item",{attrs:{text:"Annual Tax",value:"Annual Tax"}}),e._v(" "),a("vs-select-item",{attrs:{text:"Resubmission Tax",value:"Resubmission Tax"}})],1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.type"),expression:"errors.has('editform.type')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.type")))])],1),e._v(" "),a("vx-input-group",[a("br"),e._v(" "),a("vs-textarea",{attrs:{name:"notes",counter:100,label:"Notes","data-vv-scope":"editform"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.notes"),expression:"errors.has('editform.notes')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.notes")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[a("br"),e._v(" "),a("vs-button",{staticClass:"float-right",attrs:{button:"submit",type:"gradient"}},[e._v("Update")])],1)],1)],1)])],1)}),[],!1,null,null,null);t.default=l.exports},64:function(e,t,a){"use strict";var s=a(21);a.n(s).a},65:function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".selectExample {\n  margin: 10px;\n}\n.con-select-example {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n          justify-content: center;\n}\n.con-select .vs-select {\n  width: 100%\n}\n@media (max-width: 550px) {\n.con-select {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n            flex-direction: column;\n}\n.con-select .vs-select {\n    width: 100%\n}\n}\r\n\r\n",""])}}]);