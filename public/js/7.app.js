(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{11:function(t,e,s){"use strict";var a=s(10),n={props:{object_id:{type:String,required:!0},type:{type:String,required:!0},commentsUrl:{type:String,required:!0}},watch:{active:function(t,e){if(0==t)clearInterval(this.invterVal);else{var s=this;this.invterVal=setInterval((function(){var t={path:s.commentsUrl,type:s.type,object_id:s.object_id};s.$store.dispatch("getComments",t)}),2e3)}this.scrollToEnd()}},data:function(){return{invterVal:"",active:!1,textMsg:"",settings:{maxScrollbarLength:60,wheelSpeed:.6},chatMsg:[{senderImg:"avatar-s-2.png",msg:"Cake sesame snaps cupcake gingerbread",isSent:!1},{senderImg:"avatar-s-5.png",msg:"Apple pie pie jujubes chupa chups muffin",isSent:!0},{senderImg:"avatar-s-2.png",msg:"Chocolate cake",isSent:!1},{senderImg:"avatar-s-5.png",msg:"Donut sweet pie oat cake dragÃ©e fruitcake",isSent:!0},{senderImg:"avatar-s-2.png",msg:"Liquorice chocolate bar jelly beans icing",isSent:!1},{senderImg:"avatar-s-2.png",msg:"Liquorice chocolate bar jelly beans icing",isSent:!1},{senderImg:"avatar-s-2.png",msg:"Liquorice chocolate bar jelly beans icing",isSent:!1},{senderImg:"avatar-s-2.png",msg:"Liquorice chocolate bar jelly beans icing",isSent:!1},{senderImg:"avatar-s-2.png",msg:"Liquorice chocolate bar jelly beans icing",isSent:!1},{senderImg:"avatar-s-5.png",msg:"Pudding candy",isSent:!0},{senderImg:"avatar-s-5.png",msg:"Pudding candy",isSent:!0}]}},created:function(){var t={path:this.commentsUrl,type:this.type,object_id:this.object_id};this.$store.dispatch("getComments",t)},computed:{hideScrollToTopLocal:{get:function(){return this.hideScrollToTop},set:function(t){this.$emit("toggleHideScrollToTop",t)}},userType:function(){return this.$store.getters.userType},comments:function(){return this.$store.state.comments}},methods:{commentedBy:function(t){return localStorage.getItem("admin")==t},sendComment:function(t){var e={comment:this.textMsg,object_id:this.object_id,type:this.type,scrollToEnd:this.scrollToEnd,userType:this.userType,loginUser:localStorage.getItem("admin")};""!=this.textMsg.trim()&&(this.$store.dispatch("saveComment",e),this.textMsg="",this.scrollToEnd())},updatePrimaryColor:function(t){this.primaryColor=t,this.$vs.theme({primary:t})},scrollToEnd:function(){var t=this;setTimeout((function(){var e=t.$el.querySelector(".ps-container");e.scrollTop=e.scrollHeight,console.log(e.scrollHeight)}),0)}},components:{VuePerfectScrollbar:s.n(a).a}},i=(s(60),s(2)),r=Object(i.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"theme-customizer"}},[s("vs-sidebar",{staticClass:"items-no-padding",attrs:{"hidden-background":"","position-right":"","click-not-close":""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[s("div",{staticClass:"h-full"},[s("div",{staticClass:"customizer-header mt-6 flex items-center justify-between px-6"},[s("div",[s("h4",[t._v("COMMENTS")]),t._v(" "),s("small",[t._v("Comments & Task Reviews")])]),t._v(" "),s("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.active=!1}}})],1),t._v(" "),s("vs-divider",{staticClass:"mb-0"}),t._v(" "),s("VuePerfectScrollbar",{staticClass:"scroll-area--customizer pt-4 pb-6",attrs:{settings:t.settings}},[s("div",{staticClass:"px-6"},[s("ul",{ref:"chatLog"},t._l(t.comments,(function(e,a){return s("li",{key:a},[s("div",{staticClass:"flex items-start",class:{"flex-row-reverse":t.commentedBy(e.member_id),"mt-4":a}},[s("vs-avatar",{staticClass:"m-0 flex-shrink-0",class:t.commentedBy(e.member_id)?"ml-3":"mr-3",attrs:{text:e.member_info.full_name,size:"40px"}}),t._v(" "),s("div",{staticClass:"msg relative bg-white shadow-md py-3 px-4 rounded-lg max-w-md",class:{"chat-sent-msg bg-primary-gradient text-white":t.commentedBy(e.member_id),"border border-solid d-theme-border-grey-light":!t.commentedBy(e.member_id)}},[s("span",[t._v(t._s(e.comment))])])],1),t._v(" "),s("div",{staticClass:"p-0 text-right"},[t._v(t._s(e.member_info.full_name))]),t._v(" "),s("div",{staticClass:"p-0 text-right"},[t._v(t._s(e.created_at))])])})),0)])]),t._v(" "),s("div",{staticClass:"customizer-footer mt-6 flex items-center justify-between px-6"},[s("vs-input",{staticClass:"w-full",attrs:{placeholder:"Type Here"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendComment(e)}},model:{value:t.textMsg,callback:function(e){t.textMsg=e},expression:"textMsg"}})],1),t._v(" "),s("vs-divider",{staticClass:"mb-0"})],1)])],1)}),[],!1,null,null,null);e.a=r.exports},121:function(t,e,s){"use strict";var a=s(43);s.n(a).a},122:function(t,e,s){(t.exports=s(4)(!1)).push([t.i,".bm-menu {\n  z-index: 99999;\n}\n.bm-burger-button {\n  position: fixed;\n  width: 36px;\n  height: 30px;\n  left: 36px;\n  top: 36px;\n  cursor: pointer;\n}\n.bm-burger-bars {\n  background-color: #373a47;\n}\n.line-style {\n  position: absolute;\n  height: 20%;\n  left: 0;\n  right: 0;\n}\n.cross-style {\n  position: absolute;\n  top: 12px;\n  right: 2px !important;\n  cursor: pointer;\n}\n.bm-cross {\n  background: #bdc3c7;\n}\n.bm-cross-button {\n  height: 24px;\n  width: 24px;\n}\n.bm-menu {\n  height: 100%;\n  /* 100% Full-height */\n  width: 0;\n  /* 0 width - change this with JavaScript */\n  position: fixed;\n  /* Stay in place */\n  top: 0;\n  left: 0;\n  background-color: #3f3f41;\n  /* Black*/\n  overflow-x: hidden;\n  /* Disable horizontal scroll */\n  padding-top: 60px;\n  /* Place content 60px from the top */\n  -webkit-transition: 0.5s;\n  transition: 0.5s;\n  /*0.5 second transition effect to slide in the sidenav*/\n}\n.bm-overlay {\n  background: rgba(0, 0, 0, 0.3);\n}\n.bm-item-list {\n  color: #b8b7ad;\n  margin-left: 10%;\n  font-size: 20px;\n}\n.bm-item-list > * {\n  display: -webkit-box;\n  display: flex;\n  text-decoration: none;\n  padding: 0.7em;\n}\n.bm-item-list > * > span {\n  margin-left: 10px;\n  font-weight: 700;\n  color: white;\n}",""])},187:function(t,e,s){"use strict";s.r(e);var a=s(11),n=s(12),i=s(1);function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(s,!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c={components:{TheCustomizer:a.a,Slide:n.Slide},data:function(){return{tax_id:"",openComments:!1}},created:function(){this.tax_id=this.$store.state.rootUrl.split("/")[2],this.getCustomer(localStorage.getItem("customer")),this.getPayroll(this.$route.params.id),this.$store.dispatch("getAverageRate")},computed:o({},Object(i.e)("payrolls",["payroll"]),{},Object(i.e)("customers",["customer"]),{userType:function(){return this.$store.getters.userType},averageRate:function(){return this.$store.state.averageRate},non_taxable_sales:function(){return this.sale.non_taxable_sales*this.averageRate},value_of_exports:function(){return this.sale.vat*this.averageRate},person_vat:function(){return parseFloat(.1*this.sale.taxable_person_sales).toFixed(2)},person_taxable:function(){return parseFloat(this.sale.taxable_person_sales*this.averageRate)},person_taxable_vat:function(){return parseFloat(.1*this.person_taxable).toFixed(2)},customer_vat:function(){return parseFloat(.1*this.sale.cust_sales).toFixed(2)},customer_taxable:function(){return parseFloat(this.sale.cust_sales*this.averageRate)},customer_taxable_vat:function(){return parseFloat(.1*this.customer_taxable).toFixed(2)}}),methods:o({handleToggleDrawer:function(){this.$refs.commentsView.active=!this.$refs.commentsView.active}},Object(i.b)({getPayroll:"payrolls/getPayroll",getCustomer:"customers/getCustomer",statusChange:"taxes/statusUpdateSPP",statusChangeManagment:"taxes/statusChangeManagment"}),{statusUpdate:function(t,e){var s=this,a={id:t,tax_id:this.tax_id,notify:this.$vs.notify,type:"payroll"};this.statusChange(a).then((function(t){1!=t.data.status&&("undefined"==t.data.response?s.payroll.officer_confirmed=e:s.payroll.officer_confirmed=t.data.response)}))},changeManagementStatus:function(t,e,s){var a={id:e,status:t,by:s,tax_id:this.tax_id,notify:this.$vs.notify,tax_type:"payroll"};this.statusChangeManagment(a).then((function(t){}))}})},m=(s(121),s(2)),v=Object(m.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-row",[s("vs-col",{attrs:{"vs-lg":"9","vs-md":"9","vs-sm":"12"}},[s("vx-card",{attrs:{title:"Payroll Detail"}},[s("vs-row",[s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Client TIN:")]),t._v(" "),s("p",[t._v(t._s(t.customer.tin_no))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Client Name:")]),t._v(" "),s("p",[t._v(t._s(t.customer.name_english))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Basic Salary:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.basic_salary))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Seniority Payment:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.seniority_payment))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Severance Pay:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.severance_pay))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Bonus:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.bonus))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Over Time:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.over_time))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Commissions:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.commissions))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Maternity Leave:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.maternity_leave))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Paid Annual Leave:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.paid_annual_leave))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Food Allowance:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.food_allowance))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Transport Allowance:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.transport_allowance))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Deduction Advance:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.deduction_advance))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Salary Adjusment:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.salary_adjusment))])]),t._v(" "),s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"4","vs-md":"4","vs-sm":"12"}},[s("h6",[t._v("Others:")]),t._v(" "),s("p",[t._v(t._s(t.payroll.others))])])],1)],1),t._v(" "),s("vx-card",{staticClass:"mt-base",attrs:{title:"Payrolls Summary"}},[s("vs-row",[s("vs-col",{staticClass:"mt-5",attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12"}},[s("h6",[t._v("Non Taxable Sale:")]),t._v(" "),s("p",[t._v(t._s(t.customer.non_taxable_sales||"NA"))])])],1)],1)],1),t._v(" "),s("vs-col",{attrs:{"vs-lg":"3","vs-md":"3","vs-xl":"3","vs-sm":"12"}},[s("vx-card",{attrs:{title:"Actions"}},[s("vs-list",[s("vs-list-item",{attrs:{title:"Edit Purchase"}},[s("vs-button",{attrs:{to:"/purchase-update/"+t.$route.params.id,"icon-pack":"feather",size:"small",icon:"icon-edit"}})],1),t._v(" "),["Admin"==t.userType||"Super Admin"==t.userType?s("vs-list-item",{attrs:{title:"Status"}},[s("vs-button",{attrs:{"icon-pack":"feather",size:"small",icon:"icon-check-circle"},on:{click:function(e){return t.changeManagementStatus("1",t.payroll.payroll_id,"admin")}}}),t._v(" "),s("vs-button",{attrs:{"icon-pack":"feather",size:"small",icon:"icon-x-circle"},on:{click:function(e){return t.changeManagementStatus("0",t.payroll.payroll_id,"admin")}}})],1):t._e(),t._v(" "),"Supervisor"==t.userType?s("vs-list-item",{attrs:{title:"Status"}},[s("vs-button",{attrs:{"icon-pack":"feather",size:"small",icon:"icon-check-circle"},on:{click:function(e){return t.changeManagementStatus("1",t.payroll.payroll_id,"supervisor")}}}),t._v(" "),s("vs-button",{attrs:{"icon-pack":"feather",size:"small",icon:"icon-x-circle"},on:{click:function(e){return t.changeManagementStatus("0",t.payroll.payroll_id,"supervisor")}}})],1):t._e(),t._v(" "),"Officer"==t.userType?s("vs-list-item",{attrs:{title:"Status"}},[s("vs-switch",{attrs:{"icon-pack":"feather"},on:{click:function(e){return t.statusUpdate(t.payroll.payroll_id,t.payroll.officer_confirmed)}},model:{value:t.payroll.officer_confirmed,callback:function(e){t.$set(t.payroll,"officer_confirmed",e)},expression:"payroll.officer_confirmed"}})],1):t._e()],t._v(" "),s("vs-list-item",{attrs:{title:"View Comments"}},[s("vs-button",{attrs:{"icon-pack":"feather",size:"small",icon:"icon-maximize-2"},on:{click:t.handleToggleDrawer}})],1)],2)],1)],1)],1),t._v(" "),s("the-customizer",{ref:"commentsView",attrs:{object_id:t.$route.params.id,type:"Payroll","comments-url":"get-comments"}})],1)}),[],!1,null,null,null);e.default=v.exports},20:function(t,e,s){var a=s(61);"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(5)(a,n);a.locals&&(t.exports=a.locals)},43:function(t,e,s){var a=s(122);"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(5)(a,n);a.locals&&(t.exports=a.locals)},60:function(t,e,s){"use strict";var a=s(20);s.n(a).a},61:function(t,e,s){(t.exports=s(4)(!1)).push([t.i,"#theme-customizer .vs-sidebar {\n  position: fixed;\n  z-index: 52000;\n  width: 400px;\n  max-width: 90vw;\n  box-shadow: 0 15px 30px 0 rgba(0,0,0,0.11), 0 5px 15px 0 rgba(0,0,0,0.08);\n}\n.customizer-btn {\n  position: fixed;\n  top: 50%;\n  right: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  z-index: 50000;\n}\n.customizer-btn .vs-icon {\n  -webkit-animation: spin 1.5s linear infinite;\n          animation: spin 1.5s linear infinite;\n}\n.scroll-area--customizer {\n  height: calc(88% - 5rem);\n}",""])}}]);