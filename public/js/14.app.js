(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{17:function(e,t,a){var s=a(55);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(5)(s,r);s.locals&&(e.exports=s.locals)},44:function(e,t,a){"use strict";a.r(t);var s=a(1);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={inject:["loginUser"],data:function(){return{editTax:{},addTaxManagmentModal:!1,editTaxManagmentModal:!1,type:"",officer:[],default_selected_officer:"",default_selected_supervisor:"",tax_customer_id:"",title:"",description:"",duration:"",supervisor:"",tax_identifier:"",edit_tax_identifier:"",notes:"",months:["Jan","Feb","Mar","Apr","Ma","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},computed:i({},Object(s.d)("supervisors/",["supervisors"]),{},Object(s.d)("taxes/",["taxes"]),{},Object(s.d)("officers/",["officers"])),beforeCreate:function(){},created:function(){this.tax_customer_id=localStorage.getItem("customer"),this.getSupervisors(),this.getOfficers(),this.getTaxes(this.tax_customer_id)},methods:i({},Object(s.b)({getSupervisors:"supervisors/getSupervisors",getOfficers:"officers/getOfficers",create:"taxes/addTax",getTaxes:"taxes/getTaxes",update:"taxes/editTax"}),{getFullName:function(e){return null!==e?e.full_name:"N/A"},changeType:function(e){var t=new Date;"Monthly Tax"==e?this.tax_identifier="M-"+this.months[t.getMonth()]+"-"+t.getFullYear():"Annual Tax"==e?this.tax_identifier="Y-"+t.getFullYear():"Resubmission Tax"==e&&(this.tax_identifier="R-"+this.months[t.getMonth()]+"-"+t.getFullYear())},editChangeType:function(e){var t=new Date;"Monthly Tax"==e?this.editTax.tax_code="M-"+this.months[t.getMonth()]+"-"+t.getFullYear():"Annual Tax"==e?this.editTax.tax_code="Y-"+t.getFullYear():"Resubmission Tax"==e&&(this.editTax.tax_code="R-"+this.months[t.getMonth()]+"-"+t.getFullYear())},addTax:function(){this.addTaxManagmentModal=!0},addTaxManagment:function(e){var t=this;this.$validator.validateAll("addform").then((function(a){if(a){t.$vs.loading(),self=t;var s=new FormData(self.$refs.addTaxManagmentForm);s.append("customer_id",t.tax_customer_id),s.append("tax_code",t.tax_identifier);var r={fd:s,close:t.$vs.loading.close,notify:t.$vs.notify};t.create(r).then((function(a){"success"==a.data.status&&(self.title=self.description=self.duration=self.supervisor="",self.officer=[],e.target.reset(),self.$validator.reset(),t.getTaxes(self.tax_customer_id),t.addTaxManagmentModal=!1)}))}}))},taxEdit:function(e){var t=this;axios.post("tax/get-tax",{id:e}).then((function(e){t.editTax=e.data.tax,t.editTaxManagmentModal=!0,"Monthly Tax"==t.editTax.type?t.editTax.tax_code="M-"+t.months[date.getMonth()]+"-"+date.getFullYear():"Annual Tax"==t.editTax.type?t.editTax.tax_code="Y-"+date.getFullYear():"Resubmission Tax"==t.editTax.type&&(t.editTax.tax_code="R-"+t.months[date.getMonth()]+"-"+date.getFullYear())}))},editTaxManagment:function(e){var t=this;this.$validator.validateAll("editform").then((function(e){if(e){self=t;var a=new FormData(self.$refs.editTaxManagmentForm);a.append("customer_id",t.tax_customer_id),a.append("tax_id",self.editTax.tax_id),a.append("tax_code",t.editTax.tax_code);var s={fd:a,close:t.$vs.loading.close,notify:t.$vs.notify};t.update(s).then((function(e){"success"==e.data.status&&(self.getTaxes(t.tax_customer_id),self.officer=[],self.$validator.reset(),self.editTaxManagmentModal=!1)}))}}))}})},d=(a(54),a(2)),l=Object(d.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vx-card",{attrs:{title:"List of tax services",subtitle:"The List of Taxes contains currently assigned taxes of customer Or those which are delivered succesfully"}},[a("template",{slot:"actions"},["Admin"!=e.$store.getters.userType||"Super Admin"!=e.$store.getters.userType?a("vs-button",{attrs:{type:"border","icon-pack":"feather",icon:"icon-plus"},on:{click:function(t){return e.addTax()}}}):e._e()],1),e._v(" "),a("vs-table",{attrs:{search:"",pagination:"",data:e.taxes},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,(function(t,s){return a("vs-tr",{key:s},[a("vs-td",[e._v(e._s(e.getFullName(t.created_by)))]),e._v(" "),a("vs-td",[e._v(e._s(t.tax_code))]),e._v(" "),a("vs-td",{staticStyle:{width:"200px"}},[e._v(e._s(t.title))]),e._v(" "),a("vs-td",[e._v(e._s(t.description))]),e._v(" "),a("vs-td",[e._v(e._s(t.type))]),e._v(" "),a("vs-td",[e._v(e._s(0))]),e._v(" "),a("vs-td",[e._v(e._s(0==t.status?"In progress":"Completed"))]),e._v(" "),a("vs-td",["Admin"!=e.$store.getters.userType||"Super Admin"!=e.$store.getters.userType?a("vs-button",{attrs:{size:"small",type:"border","icon-pack":"feather",icon:"icon-edit"},on:{click:function(a){return e.taxEdit(t.tax_id)}}}):e._e(),e._v(" "),a("vs-button",{attrs:{size:"small",type:"border","icon-pack":"feather",icon:"icon-maximize-2",to:"/tax-collection/"+t.tax_id}})],1)],1)}))}}])},[a("template",{slot:"header"},[a("vs-button",{staticStyle:{"margin-top":"-5px"},attrs:{color:"primary",type:"border",icon:"cloud_download"}},[e._v("Export")])],1),e._v(" "),a("template",{slot:"thead"},[a("vs-th",[e._v("created by")]),e._v(" "),a("vs-th",[e._v("Code")]),e._v(" "),a("vs-th",[e._v("Title")]),e._v(" "),a("vs-th",[e._v("Description")]),e._v(" "),a("vs-th",[e._v("Type")]),e._v(" "),a("vs-th",[e._v("revision")]),e._v(" "),a("vs-th",[e._v("Status")]),e._v(" "),a("vs-th",[e._v("Actions")])],1)],2)],2),e._v(" "),a("vs-popup",{attrs:{active:e.addTaxManagmentModal,title:"Add Tax Managment"},on:{"update:active":function(t){e.addTaxManagmentModal=t}}},[a("form",{ref:"addTaxManagmentForm",attrs:{"data-vv-scope":"addform"},on:{submit:function(t){return t.preventDefault(),e.addTaxManagment(t,"addform")}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tax_customer_id,expression:"tax_customer_id"}],attrs:{type:"hidden",name:"category_id"},domProps:{value:e.tax_customer_id},on:{input:function(t){t.target.composing||(e.tax_customer_id=t.target.value)}}}),e._v(" "),a("vs-row",[a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[""!=e.tax_identifier?a("div",[a("h4",[e._v("Tax Code: "+e._s(e.tax_identifier))])]):e._e(),e._v(" "),a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"title","label-placeholder":"Title","data-vv-scope":"addform"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.title"),expression:"errors.has('addform.title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.title")))])],1),e._v(" "),a("vx-input-group",[a("br"),e._v(" "),a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"description",counter:20,label:"Description","data-vv-scope":"addform"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.description"),expression:"errors.has('addform.description')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.description")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{label:"Type",name:"type"},on:{input:e.changeType},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("vs-select-item",{attrs:{text:"Select Type",value:""}}),e._v(" "),a("vs-select-item",{attrs:{text:"Monthly Tax",value:"Monthly"}}),e._v(" "),a("vs-select-item",{attrs:{text:"Annual Tax",value:"Yearly"}}),e._v(" "),a("vs-select-item",{attrs:{text:"Resubmission Tax",value:"Resubmission Tax"}})],1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.type"),expression:"errors.has('addform.type')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.type")))])],1),e._v(" "),a("vx-input-group",[a("br"),e._v(" "),a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"notes",counter:100,label:"Notes","data-vv-scope":"addform"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.notes"),expression:"errors.has('addform.notes')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.notes")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[a("br"),e._v(" "),a("vs-button",{staticClass:"float-right",attrs:{button:"submit",type:"gradient"}},[e._v("Add Tax Managment")])],1)],1)],1)]),e._v(" "),a("vs-popup",{attrs:{active:e.editTaxManagmentModal,title:"Add Tax Managment"},on:{"update:active":function(t){e.editTaxManagmentModal=t}}},[a("form",{ref:"editTaxManagmentForm",attrs:{"data-vv-scope":"editform"},on:{submit:function(t){return t.preventDefault(),e.editTaxManagment(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tax_customer_id,expression:"tax_customer_id"}],attrs:{type:"hidden",name:"category_id"},domProps:{value:e.tax_customer_id},on:{input:function(t){t.target.composing||(e.tax_customer_id=t.target.value)}}}),e._v(" "),a("vs-row",[a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[e.editTax.tax_code?a("div",[a("h4",[e._v("Tax Code: "+e._s(e.editTax.tax_code))])]):e._e()]),e._v(" "),a("vs-col",{attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12"}},[a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"title",label:"Title",placeholder:"Title","data-vv-scope":"editform"},model:{value:e.editTax.title,callback:function(t){e.$set(e.editTax,"title",t)},expression:"editTax.title"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.title"),expression:"errors.has('editform.title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.title")))])],1),e._v(" "),a("vx-input-group",[a("br"),e._v(" "),a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"description",counter:50,label:"Description","data-vv-scope":"editform"},model:{value:e.editTax.description,callback:function(t){e.$set(e.editTax,"description",t)},expression:"editTax.description"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.description"),expression:"errors.has('editform.description')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.description")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"6","vs-md":"12","vs-sm":"12"}},[a("vx-input-group",[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{placeholder:"Select Type",label:"Type",name:"type"},on:{input:e.editChangeType},model:{value:e.editTax.type,callback:function(t){e.$set(e.editTax,"type",t)},expression:"editTax.type"}},[a("vs-select-item",{attrs:{text:"Monthly Tax",value:"Monthly Tax"}}),e._v(" "),a("vs-select-item",{attrs:{text:"Annual Tax",value:"Annual Tax"}}),e._v(" "),a("vs-select-item",{attrs:{text:"Resubmission Tax",value:"Resubmission Tax"}})],1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.type"),expression:"errors.has('editform.type')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.type")))])],1),e._v(" "),a("vx-input-group",[a("br"),e._v(" "),a("vs-textarea",{attrs:{name:"notes",counter:100,label:"Notes","data-vv-scope":"editform"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.notes"),expression:"errors.has('editform.notes')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.notes")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[a("br"),e._v(" "),a("vs-button",{staticClass:"float-right",attrs:{button:"submit",type:"gradient"}},[e._v("Update")])],1)],1)],1)])],1)}),[],!1,null,null,null);t.default=l.exports},54:function(e,t,a){"use strict";var s=a(17);a.n(s).a},55:function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".selectExample {\n  margin: 10px;\n}\n.con-select-example {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n          justify-content: center;\n}\n.con-select .vs-select {\n  width: 100%\n}\n@media (max-width: 550px) {\n.con-select {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n            flex-direction: column;\n}\n.con-select .vs-select {\n    width: 100%\n}\n}\r\n\r\n",""])}}]);