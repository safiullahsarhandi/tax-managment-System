(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{169:function(e,t,s){"use strict";s.r(t);var r=s(0);function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o={data:function(){return{lang:"english",multipleUploadPopup:!1,customField:[],name_khmer:"",name_eng:"",tax_id:"",tin_num:"",incorporation_date:"",address:"",street:"",group:"",village:"",sangkat:"",district:"",province:"",muncipality:"",tel:"",email:"",industry:"",taxDurationSelected:"Monthly Tax",taxDuration:[{text:"Monthly Tax",value:"Monthly Tax"},{text:"Annual Tax ",value:"Annual Tax"}],manager:"",createdby:""}},inject:["loginUser"],created:function(){"Supervisor"==this.$store.getters.userType&&this.getMyOfficers(localStorage.getItem("admin")),this.manager="Officer"==this.$store.getters.userType?localStorage.getItem("admin"):"",this.createdby=localStorage.getItem("admin")},watch:{},components:{multiUploads:function(){return s.e(0).then(s.bind(null,204))}},computed:i(i(i({},Object(r.e)("customers/",["customers"])),Object(r.e)("officers/",["myOfficers"])),Object(r.c)("customers/",["findCustomer"])),methods:i(i({onChangeWorker:function(e){this.manager=e},showUploader:function(){this.$refs.multiUploads.isShown=!0},successMultipleUpload:function(e){this.$vs.notify({color:"success",text:e.msg,position:"right-top",fixed:!0}),this.$refs.multiUploads.isShown=!1},hasError:function(e){this.$vs.notify({color:"danger",text:e.msg,position:"right-top",fixed:!0})},addMoreFeild:function(){this.customField.push({name:"additional_field[]",value:"",type:"text"})}},Object(r.b)({submit:"customers/addCustomer",getMyOfficers:"officers/getMyOfficers"})),{},{addCustomer:function(e){var t=this;this.$validator.validateAll().then((function(s){if(s){t.$vs.loading();var r=new FormData(t.$refs.addCustomer);r.append("manager",t.manager),t.createdBy="Officer"!=t.$store.getters.userType?localStorage.getItem("admin"):t.manager,r.append("created_by",t.createdBy),t.submit(r).then((function(s){"success"==s.data.status&&(e.target.reset(),t.errors.clear(),t.taxDurationSelected="Monthly",t.$vs.notify({title:"Success",text:"Customer Added Successfully",color:"success",position:"top-right"}),t.$vs.loading.close()),"error"==s.data.status&&t.$vs.notify({title:"Success",text:s.data.msg,color:"success",position:"top-right"})}))}}))}})},v=(s(86),s(2)),l=Object(v.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("vx-card",{attrs:{title:"Add Customer",subtitle:"Add Information Of Customer OR company which tax will be managed by system",noShadow:"",noRadius:""}},[s("template",{slot:"actions"},[s("vs-button",{staticClass:"mt-5",attrs:{type:"gradient",button:"button"},on:{click:function(t){return e.showUploader()}}},[e._v("Upload Excel Sheet")])],1),e._v(" "),s("vs-row",[s("vs-col",{attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12","vs-xs":"12"}},[s("vs-button",{staticStyle:{width:"100%"},attrs:{color:"primary",type:"border"},on:{click:function(t){e.lang="english"}}},[e._v("English")])],1),e._v(" "),s("vs-col",{attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12","vs-xs":"12"}},[s("vs-button",{staticStyle:{width:"100%"},attrs:{color:"primary",type:"border"},on:{click:function(t){e.lang="khmer"}}},[e._v("Khmer")])],1)],1),e._v(" "),s("form",{ref:"addCustomer",on:{submit:function(t){return t.preventDefault(),e.addCustomer(t)}}},[s("vs-row",[s("vs-col",[s("vs-table",{attrs:{stripe:"",id:"add_customer_table",noDataText:""}},[s("template",{slot:"thead"},["Supervisor"==e.$store.getters.userType?s("vs-th",[e._v("List Of Officers")]):e._e(),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Name (English)":"ឈ្មោះ (អង់គ្លេស)"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Name (Khmer)":"ឈ្មោះ (ខ្មែរ)"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Tax ID Card #":"អត្តសញ្ញាណប័ណ្ណពន្ធ #"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"TIN #":"ធីន #"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Date of company incorporated":"កាលបរិច្ឆេទនៃការបញ្ចូលក្រុមហ៊ុន"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Address":"អាសយដ្ឋាន"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Street":"ផ្លូវ"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Group":"ក្រុម"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Village":"ភូមិ"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Sangkat":"វិបត្តិ"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"District":"ស្រុក"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Province":"ខេត្ត"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Muncipality":"ក្រុង"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Tel.":"ទូរស័ព្ទ"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Email":"អ៊ីមែល"))]),e._v(" "),s("vs-th",[e._v(e._s("english"==e.lang?"Industry / Sector":"ឧស្សាហកម្ម / វិស័យ"))]),e._v(" "),e._l(e.customField,(function(t,r){return s("vs-th",{key:e.index},[e._v("\n                                "+e._s("english"==e.lang?"Custom Field ":"វាលផ្ទាល់ខ្លួន "+r+1)+"\n                            ")])})),e._v(" "),s("vs-th",[s("vs-button",{staticClass:"mt-5",staticStyle:{width:"250px"},attrs:{type:"gradient",button:"button"},on:{click:function(t){return e.addMoreFeild()}}},[e._v("Add More Custom Fields")])],1)],2),e._v(" "),[s("vs-tr",["Supervisor"==e.$store.getters.userType?s("vs-td",[s("vx-input-group",[s("vs-select",{attrs:{placeholder:"Select officer who work"},model:{value:e.manager,callback:function(t){e.manager=t},expression:"manager"}},e._l(e.myOfficers,(function(e,t){return s("vs-select-item",{key:t,attrs:{text:e.full_name,value:e.manager_id}})})),1)],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name_eng"),expression:"errors.has('name_eng')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("name_eng")))])],1):e._e(),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"name_eng"},model:{value:e.name_eng,callback:function(t){e.name_eng=t},expression:"name_eng"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name_eng"),expression:"errors.has('name_eng')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("name_eng")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"name_khmer"},model:{value:e.name_khmer,callback:function(t){e.name_khmer=t},expression:"name_khmer"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name_khmer"),expression:"errors.has('name_khmer')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("name_khmer")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"tax_id"},model:{value:e.tax_id,callback:function(t){e.tax_id=t},expression:"tax_id"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("tax_id"),expression:"errors.has('tax_id')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("tax_id")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"tin_num"},model:{value:e.tin_num,callback:function(t){e.tin_num=t},expression:"tin_num"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("tin_num"),expression:"errors.has('tin_num')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("tin_num")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"incorporation_date"},model:{value:e.incorporation_date,callback:function(t){e.incorporation_date=t},expression:"incorporation_date"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("incorporation_date"),expression:"errors.has('incorporation_date')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("incorporation_date")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"address"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("address"),expression:"errors.has('address')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("address")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"street"},model:{value:e.street,callback:function(t){e.street=t},expression:"street"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("street"),expression:"errors.has('street')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("street")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"group"},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("group"),expression:"errors.has('group')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("group")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"village"},model:{value:e.village,callback:function(t){e.village=t},expression:"village"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("village"),expression:"errors.has('village')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("village")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"sangkat"},model:{value:e.sangkat,callback:function(t){e.sangkat=t},expression:"sangkat"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("sangkat"),expression:"errors.has('sangkat')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("sangkat")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"district"},model:{value:e.district,callback:function(t){e.district=t},expression:"district"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("district"),expression:"errors.has('district')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("district")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"province"},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("province"),expression:"errors.has('province')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("province")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"muncipality"},model:{value:e.muncipality,callback:function(t){e.muncipality=t},expression:"muncipality"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("muncipality"),expression:"errors.has('muncipality')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("muncipality")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"tel"},model:{value:e.tel,callback:function(t){e.tel=t},expression:"tel"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("tel"),expression:"errors.has('tel')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("tel")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"email",type:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("email")))])],1),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{name:"industry"},model:{value:e.industry,callback:function(t){e.industry=t},expression:"industry"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("industry"),expression:"errors.has('industry')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("industry")))])],1),e._v(" "),e._l(e.customField,(function(t,r){return s("vs-td",{key:r},[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{type:t.text,name:t.name},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"field.value"}})],1)],1)})),e._v(" "),s("vs-td",[s("vx-input-group",[s("vs-input",{attrs:{name:"",disabled:""}})],1)],1)],2)]],2)],1),e._v(" "),s("vs-col",{staticClass:"text-center",attrs:{"vs-lg":"12","vs-md":"12"}},[s("vs-col",{staticClass:"text-center",attrs:{"vs-md":"12","vs-lg":"12"}},[s("vs-button",{staticClass:"mt-5",attrs:{button:"submit",type:"gradient"}},[e._v("Save")])],1),e._v(" "),s("vs-col",{staticClass:"text-center",attrs:{"vs-md":"12","vs-lg":"12"}})],1)],1)],1)],2),e._v(" "),s("multi-uploads",{ref:"multiUploads",attrs:{"calling-from":"add-customer",myOfficers:e.myOfficers,action:"add-multiple-customer?created_by="+e.createdby+"&manager="+e.manager,"sample-url":"./public/samples/company.xlsx",active:e.multipleUploadPopup},on:{"worker-changed":e.onChangeWorker,error:e.hasError,uploaded:e.successMultipleUpload}})],1)}),[],!1,null,null,null);t.default=l.exports},29:function(e,t,s){var r=s(87);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s(6)(r,a);r.locals&&(e.exports=r.locals)},86:function(e,t,s){"use strict";var r=s(29);s.n(r).a},87:function(e,t,s){(e.exports=s(5)(!1)).push([e.i,"#add_customer_table th .sort-th, th .vs-table-text {\n  width: 250px !important;\n}\n#add_customer_table  .vs-input--input.normal {\n  margin-bottom: 30px !important;\n}\n",""])}}]);