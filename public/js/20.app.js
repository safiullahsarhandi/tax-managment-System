(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{21:function(e,t,s){var a=s(67);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s(6)(a,i);a.locals&&(e.exports=a.locals)},53:function(e,t,s){"use strict";s.r(t);var a=s(3),i=s.n(a),r=s(0);function n(e,t,s,a,i,r,n){try{var o=e[r](n),l=o.value}catch(e){return void s(e)}o.done?t(l):Promise.resolve(l).then(a,i)}function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){d(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var v={inject:["loginUser"],data:function(){return{editTax:{},addTaxManagmentModal:!1,editTaxManagmentModal:!1,type:"",officer:[],default_selected_officer:"",default_selected_supervisor:"",tax_customer_id:"",title:"",description:"",duration:"",supervisor:"",tax_identifier:"",edit_tax_identifier:"",notes:"",months:["Jan","Feb","Mar","Apr","Ma","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],getTaxStatus:"Monthly Tax",resubmissionTypeShow:!1,resubmissionType:"New",recallTax:"",showTaxesDd:!1}},computed:l(l(l(l({},Object(r.e)("supervisors/",["supervisors"])),Object(r.e)("taxes/",["taxes"])),Object(r.e)("taxes/",["recallTaxes"])),Object(r.e)("officers/",["officers"])),watch:{type:function(e,t){this.resetType(),this.resubmissionType="New",this.resubmissionTypeShow="Monthly Resubmission Tax"==e||"Annual Resubmission Tax"==e},resubmissionType:function(e,t){if(this.resetResubmissionType(),"Recall"==e){var s={id:this.tax_customer_id,type:this.type};this.getRecallTaxes(s),this.showTaxesDd=!0}else this.showTaxesDd=!1}},beforeCreate:function(){},created:function(){this.tax_customer_id=localStorage.getItem("customer"),this.getSupervisors(),this.getOfficers();var e={id:this.tax_customer_id,status:this.getTaxStatus};this.getTaxes(e)},methods:l(l({},Object(r.b)({getSupervisors:"supervisors/getSupervisors",getOfficers:"officers/getOfficers",create:"taxes/addTax",getTaxes:"taxes/getTaxes",update:"taxes/editTax",getRecallTaxes:"taxes/getRecallTaxes",clearRecallTaxes:"taxes/clearRecallTaxes"})),{},{resetType:function(){var e,t=this;return(e=i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showTaxesDd=!1,t.resubmissionTypeShow=!1,e.next=4,t.resetResubmissionType();case 4:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(a,i){var r=e.apply(t,s);function o(e){n(r,a,i,o,l,"next",e)}function l(e){n(r,a,i,o,l,"throw",e)}o(void 0)}))})()},resetResubmissionType:function(){this.clearRecallTaxes()},getFullName:function(e){return null!==e?e.full_name:"N/A"},getData:function(e){if(this.getTaxStatus==e)return!1;this.getTaxStatus=e;var t={id:this.tax_customer_id,status:e};this.getTaxes(t)},addTax:function(){this.addTaxManagmentModal=!0},addTaxManagment:function(e){var t=this;this.$validator.validateAll("addform").then((function(s){if(s){t.$vs.loading(),self=t;var a=new FormData(self.$refs.addTaxManagmentForm);a.append("customer_id",t.tax_customer_id),a.append("tax_code",t.tax_identifier),a.append("created_by",localStorage.getItem("admin")),a.append("resubmission_type",t.resubmissionType),a.append("recall_tax_id",t.recallTax);var i={fd:a,close:t.$vs.loading.close,notify:t.$vs.notify};t.create(i).then((function(s){"success"==s.data.status&&(self.title=self.description=self.duration=self.supervisor="",self.officer=[],e.target.reset(),self.$validator.reset(),t.getTaxes(self.tax_customer_id),t.addTaxManagmentModal=!1)}))}}))},taxEdit:function(e){var t=this;this.$vs.loading.close(),axios.post("tax/get-tax",{id:e}).then((function(e){new Date;t.editTax=e.data.tax,t.editTaxManagmentModal=!0}))},editTaxManagment:function(e){var t=this;this.$validator.validateAll("editform").then((function(e){if(e){self=t;var s=new FormData(self.$refs.editTaxManagmentForm);s.append("customer_id",t.tax_customer_id),s.append("tax_id",self.editTax.tax_id),s.append("tax_code",t.editTax.tax_code);var a={fd:s,close:t.$vs.loading.close,notify:t.$vs.notify};t.update(a).then((function(e){"success"==e.data.status&&(self.getTaxes(t.tax_customer_id),self.officer=[],self.$validator.reset(),self.editTaxManagmentModal=!1)}))}}))}})},c=(s(66),s(2)),u=Object(c.a)(v,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("vs-row",[s("vs-col",{attrs:{"vs-xl":"9","vs-lg":"9","vs-md":"9","vs-sm":"12"}},[s("vx-card",{attrs:{title:"List of "+e.getTaxStatus+" services",subtitle:"The List of Taxes contains currently assigned taxes of customer Or those which are delivered succesfully"}},[s("template",{slot:"actions"},["Officer"==e.$store.getters.userType||"Supervisor"==e.$store.getters.userType?s("vs-button",{attrs:{type:"border","icon-pack":"feather",icon:"icon-plus"},on:{click:function(t){return e.addTax()}}}):e._e()],1),e._v(" "),s("vs-table",{attrs:{search:"",pagination:"",data:e.taxes},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return e._l(a,(function(t,a){return s("vs-tr",{key:a},[s("vs-td",[e._v(e._s(e.getFullName(t.created_by)))]),e._v(" "),s("vs-td",[e._v(e._s(t.tax_code))]),e._v(" "),s("vs-td",{staticStyle:{width:"200px"}},[e._v(e._s(t.title))]),e._v(" "),s("vs-td",[e._v(e._s(t.description))]),e._v(" "),s("vs-td",[e._v(e._s(t.type))]),e._v(" "),s("vs-td",[e._v(e._s(t.rivision))]),e._v(" "),s("vs-td",[e._v(e._s(0==t.status?"Work in progress":1==t.status?"Review":2==t.status?"Approve":3==t.status?"Client's Confirmation":4==t.status?"Tax Paid":5==t.status?"Submitted":6==t.status?"Scanned":"Released"))]),e._v(" "),s("vs-td",["Officer"==e.$store.getters.userType||"Supervisor"==e.$store.getters.userType?s("vs-button",{attrs:{size:"small",type:"border","icon-pack":"feather",icon:"icon-edit"},on:{click:function(s){return e.taxEdit(t.tax_id)}}}):e._e(),e._v(" "),s("vs-button",{attrs:{size:"small",type:"border","icon-pack":"feather",icon:"icon-maximize-2",to:"/tax-collection/"+t.tax_id}})],1)],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[e._v("Created by")]),e._v(" "),s("vs-th",[e._v("Code")]),e._v(" "),s("vs-th",[e._v("Title")]),e._v(" "),s("vs-th",[e._v("Description")]),e._v(" "),s("vs-th",[e._v("Type")]),e._v(" "),s("vs-th",[e._v("Revision")]),e._v(" "),s("vs-th",[e._v("Status")]),e._v(" "),s("vs-th",[e._v("Actions")])],1)],2)],2)],1),e._v(" "),s("vs-col",{attrs:{"vs-xl":"3","vs-lg":"3","vs-md":"3","vs-sm":"12"}},[s("vx-card",{attrs:{title:"Actions"}},[s("vs-list",[s("vs-list-item",{staticClass:"mt-2",attrs:{title:"Monthly Tax",subtitle:""}},[s("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-list"},on:{click:function(t){return e.getData("Monthly Tax")}}})],1),e._v(" "),s("vs-list-item",{staticClass:"mt-2",attrs:{title:"Monthly Resubmission Tax",subtitle:""}},[s("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-list"},on:{click:function(t){return e.getData("Monthly Resubmission Tax")}}})],1),e._v(" "),s("vs-list-item",{staticClass:"mt-2",attrs:{title:"Annual Tax",subtitle:""}},[s("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-list"},on:{click:function(t){return e.getData("Annual Tax")}}})],1),e._v(" "),s("vs-list-item",{staticClass:"mt-2",attrs:{title:"Annual Resubmission Tax",subtitle:""}},[s("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-list"},on:{click:function(t){return e.getData("Annual Resubmission Tax")}}})],1)],1)],1)],1)],1),e._v(" "),s("vs-popup",{attrs:{active:e.addTaxManagmentModal,title:"Add Tax Managment"},on:{"update:active":function(t){e.addTaxManagmentModal=t}}},[s("form",{ref:"addTaxManagmentForm",attrs:{"data-vv-scope":"addform"},on:{submit:function(t){return t.preventDefault(),e.addTaxManagment(t,"addform")}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tax_customer_id,expression:"tax_customer_id"}],attrs:{type:"hidden",name:"category_id"},domProps:{value:e.tax_customer_id},on:{input:function(t){t.target.composing||(e.tax_customer_id=t.target.value)}}}),e._v(" "),s("vs-row",[s("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"tax_identifier","data-vv-as":"Tax Identifier","label-placeholder":"Tax Identifier","data-vv-scope":"addform"},model:{value:e.tax_identifier,callback:function(t){e.tax_identifier=t},expression:"tax_identifier"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.tax_identifier"),expression:"errors.has('addform.tax_identifier')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.tax_identifier")))])],1),e._v(" "),s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"title","label-placeholder":"Title","data-vv-scope":"addform"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.title"),expression:"errors.has('addform.title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.title")))])],1),e._v(" "),s("vx-input-group",[s("br"),e._v(" "),s("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"description",counter:100,label:"Description","data-vv-scope":"addform"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.description"),expression:"errors.has('addform.description')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.description")))])],1),e._v(" "),s("vx-input-group",{staticClass:"mt-2"},[s("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{placeholder:"Select Type",label:"Type",name:"type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[s("vs-select-item",{attrs:{text:"Monthly Tax",value:"Monthly Tax"}}),e._v(" "),s("vs-select-item",{attrs:{text:"Monthly Resubmission Tax",value:"Monthly Resubmission Tax"}}),e._v(" "),s("vs-select-item",{attrs:{text:"Annual Tax",value:"Annual Tax"}}),e._v(" "),s("vs-select-item",{attrs:{text:"Annual Resubmission Tax",value:"Annual Resubmission Tax"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.type"),expression:"errors.has('addform.type')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.type")))])],1),e._v(" "),e.resubmissionTypeShow?s("vx-input-group",{staticClass:"mt-2"},[s("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{placeholder:"Select Resubmission Type",label:"Resubmission Type",name:"resubmission_type"},model:{value:e.resubmissionType,callback:function(t){e.resubmissionType=t},expression:"resubmissionType"}},[s("vs-select-item",{attrs:{text:"New",value:"New"}}),e._v(" "),s("vs-select-item",{attrs:{text:"Recall",value:"Recall"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.resubmission_type"),expression:"errors.has('addform.resubmission_type')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.resubmission_type")))])],1):e._e(),e._v(" "),e.showTaxesDd&&e.resubmissionTypeShow?s("vx-input-group",{staticClass:"mt-2"},[s("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{placeholder:"Select Resubmission Tax",label:"Resubmission Taxes",name:"resubmission_taxes"},model:{value:e.recallTax,callback:function(t){e.recallTax=t},expression:"recallTax"}},e._l(e.recallTaxes,(function(e,t){return s("div",{key:t},[s("vs-select-item",{attrs:{text:e.title,value:e.tax_id}})],1)})),0),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.resubmission_taxes"),expression:"errors.has('addform.resubmission_taxes')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.resubmission_taxes")))])],1):e._e(),e._v(" "),s("vx-input-group",[s("br"),e._v(" "),s("vs-textarea",{attrs:{name:"notes",counter:100,label:"Notes","data-vv-scope":"addform"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.notes"),expression:"errors.has('addform.notes')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.notes")))])],1)],1),e._v(" "),s("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[s("br"),e._v(" "),s("vs-button",{staticClass:"float-right",attrs:{button:"submit",type:"gradient"}},[e._v("Add Tax Managment")])],1)],1)],1)]),e._v(" "),s("vs-popup",{attrs:{active:e.editTaxManagmentModal,title:"Add Tax Managment"},on:{"update:active":function(t){e.editTaxManagmentModal=t}}},[s("form",{ref:"editTaxManagmentForm",attrs:{"data-vv-scope":"editform"},on:{submit:function(t){return t.preventDefault(),e.editTaxManagment(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tax_customer_id,expression:"tax_customer_id"}],attrs:{type:"hidden",name:"category_id"},domProps:{value:e.tax_customer_id},on:{input:function(t){t.target.composing||(e.tax_customer_id=t.target.value)}}}),e._v(" "),s("vs-row",[s("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"tax_identifier","data-vv-as":"Tax Identifier","label-placeholder":"Tax Identifier","data-vv-scope":"editform"},model:{value:e.editTax.tax_code,callback:function(t){e.$set(e.editTax,"tax_code",t)},expression:"editTax.tax_code"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.tax_identifier"),expression:"errors.has('addform.tax_identifier')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.tax_identifier")))])],1)],1),e._v(" "),s("vs-col",{attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12"}},[s("vx-input-group",[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"title",label:"Title",placeholder:"Title","data-vv-scope":"editform"},model:{value:e.editTax.title,callback:function(t){e.$set(e.editTax,"title",t)},expression:"editTax.title"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.title"),expression:"errors.has('editform.title')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.title")))])],1),e._v(" "),s("vx-input-group",[s("br"),e._v(" "),s("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"description",counter:50,label:"Description","data-vv-scope":"editform"},model:{value:e.editTax.description,callback:function(t){e.$set(e.editTax,"description",t)},expression:"editTax.description"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.description"),expression:"errors.has('editform.description')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.description")))])],1)],1),e._v(" "),s("vs-col",{attrs:{"vs-lg":"6","vs-md":"12","vs-sm":"12"}},[s("vx-input-group",[s("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{placeholder:"Select Type",label:"Type",name:"type"},model:{value:e.editTax.type,callback:function(t){e.$set(e.editTax,"type",t)},expression:"editTax.type"}},[s("vs-select-item",{attrs:{text:"Monthly Tax",value:"Monthly Tax"}}),e._v(" "),s("vs-select-item",{attrs:{text:"Annual Tax",value:"Annual Tax"}}),e._v(" "),s("vs-select-item",{attrs:{text:"Resubmission Tax",value:"Resubmission Tax"}})],1),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.type"),expression:"errors.has('editform.type')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.type")))])],1),e._v(" "),s("vx-input-group",[s("br"),e._v(" "),s("vs-textarea",{attrs:{name:"notes",counter:100,label:"Notes","data-vv-scope":"editform"},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.notes"),expression:"errors.has('editform.notes')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.notes")))])],1)],1),e._v(" "),s("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[s("br"),e._v(" "),s("vs-button",{staticClass:"float-right",attrs:{button:"submit",type:"gradient"}},[e._v("Update")])],1)],1)],1)])],1)}),[],!1,null,null,null);t.default=u.exports},66:function(e,t,s){"use strict";var a=s(21);s.n(a).a},67:function(e,t,s){(e.exports=s(5)(!1)).push([e.i,".selectExample {\n  margin: 10px;\n}\n.con-select-example {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.con-select .vs-select {\n  width: 100%\n}\n@media (max-width: 550px) {\n.con-select {\n    flex-direction: column;\n}\n.con-select .vs-select {\n    width: 100%\n}\n}\r\n\r\n",""])}}]);