(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{102:function(e,t,a){"use strict";var s=a(34);a.n(s).a},103:function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".selectExample {\n  margin-top: 10px;\n}\n.con-select {\n  width: 100% !important;\n  clear: both;\n}\n.con-select .vs-select--input {\n  margin-top: 10px !important;\n}\r\n\r\n",""])},178:function(e,t,a){"use strict";a.r(t);var s=a(1);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={inject:["generatePassword"],data:function(){return{addAdminModal:!1,editAdminModal:!1,first_name:"",last_name:"",email:"",phone:"",address:"",state:"",zip_code:"",city:"",gender:"male",password:"",edit_first_name:"",edit_last_name:"",edit_email:"",edit_phone:"",edit_address:"",edit_state:"",edit_zip_code:"",edit_city:"",edit_gender:"male",edit_password:"",edit_manager_id:"",defaultRole:0,selectedRole:0,supervisor:"",selectedSupervisor:"",rolles:[{value:0,label:"Select Role",selectedText:"Select Role",isSelected:!1},{value:4,label:"Admin",selectedText:"Admin",isSelected:!1},{value:2,label:"Supervisor",selectedText:"Supervisor",isSelected:!1},{value:3,label:"Officer",selectedText:"Officer",isSelected:!1}]}},computed:i({},Object(s.e)("admins/",["admins"]),{},Object(s.c)("admins/",["findAdmin","findSupervisors"]),{},Object(s.e)("supervisors/",["supervisors"])),created:function(){this.getAdmins().then((function(){})),this.getSupervisors()},methods:i({},Object(s.b)({getAdmins:"admins/getAdmins",submit:"admins/addAdmin",update:"admins/updateAdmin",updateStatus:"admins/updateStatus",getSupervisors:"supervisors/getSupervisors"}),{},Object(s.d)({setSupervisors:"supervisors/setSupervisors"}),{reportsTo:function(e){return null!=e?e.full_name:"N/A"},addAdmin:function(e){var t=this,a=this;this.$validator.validateAll("addform").then((function(s){if(s){var r=new FormData(t.$refs.addAdminForm);r.append("gender",t.gender),3==t.defaultRole?r.append("reports_to",t.supervisor):r.append("reports_to",localStorage.getItem("admin")),t.submit(r).then((function(s){"success"==s.data.status?(t.password=t.email=t.first_name=t.last_name=t.zip_code=t.city=t.state=t.address=t.phone="",t.gender="male",t.selectedRole=0,e.target.reset(),t.errors.clear(),t.$validator.reset(),t.addAdminModal=!1,t.getAdmins().then((function(){var e=a.findSupervisors();a.setSupervisors(e)})),t.$vs.notify({color:"success",position:"right-top",text:"New manager added successfully"})):t.$vs.notify({color:"danger",position:"right-top",text:s.data.msg})}))}}))},statusUpdate:function(e){this.$vs.loading();var t={id:e,notify:this.$vs.notify,closeLoader:this.$vs.loading.close};this.updateStatus(t)},editAdmin:function(e){var t=this.findAdmin(e);this.edit_manager_id=t.manager_id,this.edit_first_name=t.first_name,this.edit_last_name=t.last_name,this.edit_email=t.email,this.edit_gender=t.gender,this.edit_zip_code=t.zip_code,this.edit_address=t.address,this.edit_phone=t.phone,this.edit_state=t.state,this.edit_zip_code=t.zip_code,this.edit_city=t.city,"Admin"==t.type&&(this.selectedRole=1),"Supervisor"==t.type&&(this.selectedRole=2),"Officer"==t.type&&(this.selectedRole=3,this.selectedSupervisor=t.reports_to||0),this.editAdminModal=!0},updateAdmin:function(e){var t=this;this.$validator.validateAll("editform").then((function(a){if(a){t.$vs.loading();var s=new FormData(t.$refs.editAdminForm);s.append("gender",t.edit_gender),3==t.selectedRole?s.append("reports_to",t.selectedSupervisor):s.append("reports_to",localStorage.getItem("admin")),t.update(s).then((function(a){"success"==a.data.status&&(t.edit_email=t.edit_first_name=t.edit_last_name=t.edit_zip_code=t.edit_city=t.edit_state=t.edit_address=t.edit_phone="",t.edit_gender="male",e.target.reset(),t.errors.clear(),t.editAdminModal=!1,t.$vs.notify({title:"Updated!...",text:"Admin record updated",color:"success",position:"top-right"}),t.$vs.loading.close())}))}}))},makePassword:function(){this.password=this.generatePassword()}})},n=(a(102),a(2)),l=Object(n.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vx-card",{attrs:{title:"List of Team Members"}},[a("template",{slot:"actions"}),e._v(" "),a("vs-table",{attrs:{search:"",pagination:"","max-items":"6",data:e.admins},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,(function(t,s){return a("vs-tr",{key:s},[a("vs-td",{attrs:{data:t.first_name+" "+t.last_name}},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),e._v(" "),a("vs-td",{attrs:{data:t.phone}},[e._v(e._s(t.phone))]),e._v(" "),a("vs-td",{attrs:{data:t.email}},[e._v(e._s(t.email))]),e._v(" "),a("vs-td",{attrs:{data:4==t.type?"Sub Admin":2==t.type?"Supervisor":"Officer"}},[e._v(e._s(t.type))]),e._v(" "),a("vs-td",[a("vs-button",{attrs:{size:"small",type:"border",to:"/member-detail/"+t.manager_id,"icon-pack":"feather",icon:"icon-maximize-2"}})],1)],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[e._v("Name")]),e._v(" "),a("vs-th",[e._v("Phone #")]),e._v(" "),a("vs-th",[e._v("Email")]),e._v(" "),a("vs-th",[e._v("Role")]),e._v(" "),a("vs-th",[e._v("Preview")])],1)],2)],2),e._v(" "),a("vs-popup",{attrs:{active:e.addAdminModal,title:"Add New Member"},on:{"update:active":function(t){e.addAdminModal=t}}},[a("form",{ref:"addAdminForm",attrs:{"data-vv-scope":"addform"},on:{submit:function(t){return t.preventDefault(),e.addAdmin(t)}}},[a("vs-row",[a("vs-col",{attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12"}},[a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"first_name","label-placeholder":"First Name","data-vv-scope":"addform"},model:{value:e.first_name,callback:function(t){e.first_name=t},expression:"first_name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.first_name"),expression:"errors.has('addform.first_name')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.first_name")))])],1),e._v(" "),a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"last_name","label-placeholder":"Last Name","data-vv-scope":"addform"},model:{value:e.last_name,callback:function(t){e.last_name=t},expression:"last_name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.last_name"),expression:"errors.has('addform.last_name')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.last_name")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"phone","label-placeholder":"Phone","data-vv-scope":"addform"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.phone"),expression:"errors.has('addform.phone')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.phone")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"email","label-placeholder":"Email","data-vv-scope":"addform"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.email"),expression:"errors.has('addform.email')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.email")))])],1),e._v(" "),a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"password","label-placeholder":"Password","data-vv-scope":"addform"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("template",{slot:"append"},[a("div",{staticClass:"append-text btn-addon mt-4"},[a("vs-button",{attrs:{color:"primary",button:"button"},on:{click:function(t){return e.makePassword()}}},[e._v("Generate")])],1)])],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.password"),expression:"errors.has('addform.password')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.password")))]),e._v(" "),a("vx-input-group",[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required|excluded:0",expression:"'required|excluded:0'"}],staticClass:"selectExample",attrs:{name:"roll","data-vv-scope":"addform"},model:{value:e.defaultRole,callback:function(t){e.defaultRole=t},expression:"defaultRole"}},e._l(e.rolles,(function(t,s){return a("vs-select-item",{key:s,attrs:{disabled:1==!t.value&&"Admin"==e.$store.getters.userType,"is-selected":t.isSelected,value:t.value,text:t.isSelected?t.selectedText:t.label},on:{"update:isSelected":function(a){return e.$set(t,"isSelected",a)},"update:is-selected":function(a){return e.$set(t,"isSelected",a)}}})})),1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.roll"),expression:"errors.has('addform.roll')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.roll")))])],1),e._v(" "),3==e.defaultRole?a("vx-input-group",{staticClass:"mt-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"selectExample",attrs:{name:"supervisor",label:"Supervisor"},model:{value:e.supervisor,callback:function(t){e.supervisor=t},expression:"supervisor"}},[a("vs-select-item",{attrs:{value:"",text:"Select Supervisor"}}),e._v(" "),e._l(e.supervisors,(function(e,t){return a("vs-select-item",{key:t,attrs:{value:e.manager_id,text:e.first_name+" "+e.last_name}})}))],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.supervisor"),expression:"errors.has('addform.supervisor')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("supervisor")))])],1):e._e()],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"6","vs-md":"12","vs-sm":"12"}},[a("vx-input-group",{staticClass:"mt-6"},[a("vs-radio",{attrs:{"vs-name":"gender","vs-value":"male"},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}},[e._v("Male")]),e._v(" "),a("vs-radio",{attrs:{"vs-name":"gender","vs-value":"female"},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}},[e._v("Female")])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"address","label-placeholder":"Address","data-vv-scope":"addform"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.address"),expression:"errors.has('addform.address')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.address")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"state","label-placeholder":"State","data-vv-scope":"addform"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.state"),expression:"errors.has('addform.state')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.state")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"city","label-placeholder":"City","data-vv-scope":"addform"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.city"),expression:"errors.has('addform.city')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.city")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"zip_code","label-placeholder":"Zip Code","data-vv-scope":"addform"},model:{value:e.zip_code,callback:function(t){e.zip_code=t},expression:"zip_code"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("addform.zip_code"),expression:"errors.has('addform.zip_code')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("addform.zip_code")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[a("br"),e._v(" "),a("vs-button",{staticClass:"float-right",attrs:{button:"submit",type:"gradient"}},[e._v("Add Member")])],1)],1)],1)]),e._v(" "),a("vs-popup",{attrs:{active:e.editAdminModal,title:"Update Member"},on:{"update:active":function(t){e.editAdminModal=t}}},[a("form",{ref:"editAdminForm",attrs:{autocomplete:"off","data-vv-scope":"editform"},on:{submit:function(t){return t.preventDefault(),e.updateAdmin(t)}}},[a("vs-row",[a("vs-col",{attrs:{"vs-lg":"6","vs-md":"6","vs-sm":"12"}},[a("vx-input-group",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.edit_manager_id,expression:"edit_manager_id"}],attrs:{type:"hidden",name:"id","data-vv-scope":"editform"},domProps:{value:e.edit_manager_id},on:{input:function(t){t.target.composing||(e.edit_manager_id=t.target.value)}}}),e._v(" "),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"first_name","label-placeholder":"First Name","data-vv-scope":"editform"},model:{value:e.edit_first_name,callback:function(t){e.edit_first_name=t},expression:"edit_first_name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.first_name"),expression:"errors.has('editform.first_name')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.first_name")))])],1),e._v(" "),a("vx-input-group",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"last_name","label-placeholder":"Last Name","data-vv-scope":"editform"},model:{value:e.edit_last_name,callback:function(t){e.edit_last_name=t},expression:"edit_last_name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.last_name"),expression:"errors.has('editform.last_name')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.last_name")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"phone","label-placeholder":"Phone","data-vv-scope":"editform"},model:{value:e.edit_phone,callback:function(t){e.edit_phone=t},expression:"edit_phone"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.phone"),expression:"errors.has('editform.phone')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.phone")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{readonly:"",name:"email","label-placeholder":"Email","ata-vv-scope":"editform","data-vv-scope":"editform"},model:{value:e.edit_email,callback:function(t){e.edit_email=t},expression:"edit_email"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.email"),expression:"errors.has('editform.email')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.email")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"address","label-placeholder":"Address","data-vv-scope":"editform"},model:{value:e.edit_address,callback:function(t){e.edit_address=t},expression:"edit_address"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.address"),expression:"errors.has('editform.address')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.address")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"6","vs-md":"12","vs-sm":"12"}},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"selectExample mt-2",attrs:{name:"role"},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}},e._l(e.rolles,(function(t,s){return a("vs-select-item",{key:s,attrs:{"is-selected":t.isSelected,value:t.value,text:t.isSelected?t.selectedText:t.label},on:{"update:isSelected":function(a){return e.$set(t,"isSelected",a)},"update:is-selected":function(a){return e.$set(t,"isSelected",a)}}})})),1),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.role"),expression:"errors.has('editform.role')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.role")))]),e._v(" "),3==e.selectedRole?a("vx-input-group",{staticClass:"mt-2"},[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"selectExample",attrs:{name:"supervisor",label:"Supervisor"},model:{value:e.selectedSupervisor,callback:function(t){e.selectedSupervisor=t},expression:"selectedSupervisor"}},[a("vs-select-item",{attrs:{value:"",text:"Select Supervisor"}}),e._v(" "),e._l(e.supervisors,(function(e,t){return a("vs-select-item",{key:t,attrs:{value:e.manager_id,text:e.first_name+" "+e.last_name}})}))],2),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.supervisor"),expression:"errors.has('editform.supervisor')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.supervisor")))])],1):e._e(),e._v(" "),a("vx-input-group",{staticClass:"mt-6"},[a("vs-radio",{attrs:{name:"edit_gender","vs-value":"male"},model:{value:e.edit_gender,callback:function(t){e.edit_gender=t},expression:"edit_gender"}},[e._v("Male")]),e._v(" "),a("vs-radio",{attrs:{name:"edit_gender","vs-value":"female"},model:{value:e.edit_gender,callback:function(t){e.edit_gender=t},expression:"edit_gender"}},[e._v("Female")])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-5"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"state","label-placeholder":"State","data-vv-scope":"editform"},model:{value:e.edit_state,callback:function(t){e.edit_state=t},expression:"edit_state"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.state"),expression:"errors.has('editform.state')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.state")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"city","label-placeholder":"City","data-vv-scope":"editform"},model:{value:e.edit_city,callback:function(t){e.edit_city=t},expression:"edit_city"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.city"),expression:"errors.has('editform.city')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.city")))])],1),e._v(" "),a("vx-input-group",{staticClass:"mt-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"zip_code","label-placeholder":"Zip Code","data-vv-scope":"editform"},model:{value:e.edit_zip_code,callback:function(t){e.edit_zip_code=t},expression:"edit_zip_code"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("editform.zip_code"),expression:"errors.has('editform.zip_code')"}],staticClass:"text-danger"},[e._v(e._s(e.errors.first("editform.zip_code")))])],1)],1),e._v(" "),a("vs-col",{attrs:{"vs-lg":"12","vs-md":"12","vs-sm":"12"}},[a("br"),e._v(" "),a("vs-button",{staticClass:"float-right",attrs:{button:"submit",type:"gradient"}},[e._v("Update Member")])],1)],1)],1)])],1)}),[],!1,null,null,null);t.default=l.exports},34:function(e,t,a){var s=a(103);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(5)(s,r);s.locals&&(e.exports=s.locals)}}]);